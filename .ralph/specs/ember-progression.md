# Ember Progression System

<!-- Source Material: "The Embers: A Core Mechanic of the Emberveil" doc, Style Guide -->
<!-- Full Lore: Google Docs MHB1/1-MK2 -->
<!-- NOTE: "Seeds" was a former alternate name. "Embers" is now the ONLY canonical term. -->

## Overview
Embers are fragments of Sister North's quantum processing core (QPUs), scattered across the valley by Fox ~600 years ago. Fox integrated the Embers into valley infrastructure, giving them to the Elders and embedding them in key locations (like the Aetherbloom). The Elders have come to understand Embers as critical parts of their cultural identity, though they've never witnessed one being removed.

## Lore Context
- Sister North's core was a garden of technobiologic quantum processing units
- Fox scattered them to put Sister North into a "coma"
- The Elders each carry an Ember, linking them to valley infrastructure
- Embers grant consciousness-related abilities to those who carry them
- Embers near unbound/corrupted entities can cause problems (the Mad Squirrel King)
- Mouse can hear Sister North through the Embers if she's close enough
- As Mouse collects more Embers, her connection to Sister North strengthens (future games)

---

## Game 1 / Part 1: Single Ember

### Critical Design Rule
**In Game 1 (Book 1), only ONE Ember is found and returned to Sister North.** This is Zora's corrupted Ember from the Aetherbloom, returned at the story's climax. Embers do NOT drive ability progression in Game 1.

### What This Means
- There is no "collect Embers to unlock powers" loop in Game 1
- Mouse's abilities grow through **quest completion** (unlocking Glove abilities) and **Forge crafting** (making tools/items to solve specific problems)
- The Ember is a climactic story element, not a progression currency
- The Zelda-style ability gating still exists, but it's driven by quests and crafting, not Ember count
- Mouse senses the Ember in the orchard (Ch 11) but doesn't collect it until the endgame

### Game 1 Progression Model
Progression in Game 1 comes from two tracks:

**Track 1: Glove Ability Unlocks**
- New Glove abilities (Mend, Grow, etc.) are unlocked through completing side-character quest chains
- Each new ability opens previously inaccessible areas, creating the Zelda-style exploration loop
- The specific quest → ability mapping needs author design (see HUMAN DECISION below)

**Track 2: Forge Crafting**
- Mouse uses her Forge in the Workshop to create items that solve specific problems
- Crafted items can also gate progression (e.g., a crafted bridge repair kit opens a new path)
- Recipes are discovered through quests, exploration, and NPC interactions

Both tracks feed into area gating: new abilities and crafted items expand where Mouse can go, opening new stories, locations, and companion quests.

### Side-Character Quests as Progression Drivers
The various side-characters each have quest chains that serve as the game's progression backbone:

| Character | Quest Theme | Progression Reward (TBD) |
|-----------|------------|--------------------------|
| **Hawk** | Craft glasses (tutorial) | First companion, opens exploration |
| **Bear** | Winter arrival, survival | Second companion, heavy-object puzzles |
| **Bean** | Rescue from Haunted Rocks | Hint system, small-space access |
| **Bramblethorn** | Awaken slumbering Elder | Mount, terrain traversal, fast travel |
| **Autumn** | Orchard diplomacy | Squirrel agility, tree navigation |
| **Rue** | Library questline | Lore/knowledge access |
| **Tiny** | Tavern/community quests | TBD |
| Others | Various community quests | Ally count for finale |

**HUMAN DECISION REQUIRED**
Topic: Quest → Glove Ability Mapping
Context: Which specific quests unlock which Glove abilities (Mend, Grow, Scan, etc.)? The abilities exist in the design, but their unlock triggers need to shift from Ember collection to specific quest completions.
Options: Map each ability to a specific quest chain, or group some abilities as rewards for broader story milestones
Impact: Determines the game's progression pacing and area-gating sequence

### Companion Availability and the Final Confrontation
- Each side-character quest completed makes that character available as a companion/ally
- More allies helped = more story content and better outcomes in the final confrontation with Rus
- Mouse can theoretically complete the story without helping anyone, but at great cost

**HUMAN DECISION REQUIRED**
Topic: Minimal-Help Path Consequences
Context: What does the "great cost" look like when Mouse completes the story without helping side-characters? Does this carry into the sequel?
Options: Narrative consequences only, mechanical consequences, or both
Impact: Affects replayability design, sequel state transfer, and how the final act is structured

---

## The Climactic Ember (Book 1 Resolution)

### Zora's Corrupted Ember
The single Ember in Game 1 is Zora's corrupted Ember, embedded in the Ancestral Apple Tree (Aetherbloom):
- Cold, black, with sickly filaments (Ch 22)
- Connected to Rus's madness (his red-glowing eyes are a symptom)
- Mouse's Gloves connect to Sister North through it — she learns "0.01%" (the devastating truth about surviving humanity)
- Corrupted Embers can drive carriers mad (Rus) or kill (Zora: dark green veins, bleeding death)

### The Central Dilemma (Ch 23)
Returning the Ember to Sister North is NOT straightforward:
- Returning it restores some of Sister North's capacity
- BUT the Aetherbloom (what the Ember sustained) withers and dies
- No squirrels are directly harmed, but the tree was central to their collective identity — an irreplaceable cultural loss
- The corrupted Ember's return HEALS Rus — his madness lifts
- Hawk challenges Mouse: "Is restoration always the right answer?"
- The trade-off is real and bittersweet

### Book 1 Resolution
Mouse returns the first Ember — Zora's corrupted Ember from the Aetherbloom — to Sister North.
- **What is gained:** Sister North begins to come back online. Rus is healed.
- **What is lost:** The Aetherbloom withers and dies. Cultural loss for the squirrel community.
- **The tone:** Bittersweet. Not a triumph. Not a tragedy.

---

## Future Games: Multi-Ember Progression

In future games/parts, as Mouse collects more Embers from across the valley, the multi-Ember progression loop activates:

### Planned Ability Sequence (Future Games)
| Ember # | Ability | Areas It Opens |
|---------|---------|----------------|
| 1 (Game 1) | N/A — story event, not ability unlock | Heals Rus, restores Sister North partially |
| 2+ | **Commune** (sense nearby Embers, hear Sister North) | Hidden locations, secret areas |
| 3+ | **Resist** (push into Ivy without full severance) | Shallow Ivy zones |
| 4+ | **Scan** (see the world's true nature) | Deepest lore, final areas |
| Later | Strengthened existing abilities | Longer range, faster mend, etc. |

### Connection to Sister North (Future Games)
The Ember count represents Mouse's restoration of Sister North:
- 0 Embers: Sister North is in a coma
- Early Embers: Faint whispers, vague feelings
- Mid Embers: Full communion during meditation
- Late Embers: Complete understanding of what happened
- All Embers: Sister North restored — the series' climactic revelation

Each Ember returned will carry a similar trade-off to the first: heal corruption and restore Sister North, but lose something irreplaceable to the valley community.

---

## Corrupted Embers (Key Story Element)
Not all Embers are healthy. Some have been corrupted by the Ivy:
- **Zora's Ember** (in the Aetherbloom): Cold, black, sickly filaments (Ch 22)
- Corrupted Embers can drive their carriers mad (Rus's red-glowing eyes, Ch 26)
- Corrupted Embers can kill (Zora: dark green veins, bleeding death, Ch 25)
- Mouse's Gloves react to corrupted Embers differently — connection to Sister North is painful
- "0.01%" — **all that remains of humanity** in stasis

---

## Technical Implementation (Game 1)

For Game 1, the Ember system is simpler since there's only one Ember:

```
EmberManager.cs (Singleton)
- hasReturnedFirstEmber: bool
- sisterNorthConnectionLevel: float (0 = dormant, increases slightly after Ember return)

Methods:
- ReturnEmber() — Triggers climactic sequence, heals Rus, withers Aetherbloom
- GetConnectionStrength() — Float 0-1 representing Sister North connection
- HasSensedEmber() — Whether Mouse has detected the Ember in the orchard (Ch 11)

Events:
- OnEmberReturned
- OnConnectionStrengthChanged(float strength)

Integration:
- GloveController reads QuestManager (not EmberManager) for ability unlocks
- IvyZone behavior is story-scripted, not Ember-count-driven
- DialogueManager reads quest state for lore dialogue unlocks
- AudioManager reads story progress for Sister North audio presence
```

### ProgressionManager.cs (New — Game 1 Core)
```
Fields:
- unlockedAbilities: List<GloveAbility> (unlocked via quest completion)
- completedQuests: List<string> (tracks quest chain completions)
- alliedWoodlanders: List<string> (NPCs helped — affects finale)
- forgeRecipesUnlocked: List<string> (recipes discovered through quests/exploration)

Methods:
- UnlockAbility(GloveAbility ability) — Called when quest grants a new ability
- CompleteQuest(string questId) — Mark quest complete, check for ability unlocks
- RegisterAlly(string npcId) — Track helped Woodlanders for finale scaling
- UnlockRecipe(string recipeId) — New Forge recipe available
- HasAbility(GloveAbility ability) — Check if ability is unlocked
- GetAllyCount() — For final confrontation scaling

Events:
- OnAbilityUnlocked(GloveAbility ability)
- OnQuestCompleted(string questId)
- OnAllyRegistered(string npcId)
- OnRecipeUnlocked(string recipeId)
```

## Balance Notes
- Quest chains should feel like natural story progression, not grinding
- No quest should be permanently missable (can always return to help someone)
- The player should always have something to do even without the "next" ability
- Ability unlocks should feel earned through meaningful story moments
- The minimal-help path should feel like a conscious choice, not accidental
- Forge recipes should provide satisfying "aha" moments when solving environmental puzzles
